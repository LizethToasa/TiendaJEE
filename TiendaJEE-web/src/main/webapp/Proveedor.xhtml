<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <ui:composition template="plantilla.xhtml">
            <ui:define name="content">
        <h:form id="formprincipal">
            <p:panel header="#{proveedorManagedBean.proveedor.codigo==null?'INGRESO DE PROVEEDOR':'ACTUALIZAR PROVEEDOR'}"
                     rendered="#{proveedorManagedBean.proveedor!=null}">
                
                <div align="center">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="CODIGO"></p:outputLabel>
                            <p:inputText value="#{proveedorManagedBean.proveedor.codigo}"
                                         disabled="true"></p:inputText>
                        <p:outputLabel value="NOMBRE"></p:outputLabel>
                        <p:inputText value="#{proveedorManagedBean.proveedor.nombre}"></p:inputText>                       
                    </h:panelGrid>
                </div>
                
                <div align="center">
                    <p:commandButton value="CANCELAR"
                                     action ="#{proveedorManagedBean.cancelar()}"
                                     update ="formprincipal">
                    </p:commandButton>
                    
                    <p:commandButton value="GRABAR"
                                     action ="#{proveedorManagedBean.grabar()}"
                                     update ="formprincipal">
                    </p:commandButton>
                </div>
                
            </p:panel>
            
            <p:panel header="LISTA DE PROVEEDORES" rendered="#{proveedorManagedBean.proveedor==null}">
                
                <div align="center">
                    <p:commandButton value="INGRESAR"
                                     action ="#{proveedorManagedBean.nuevo()}"
                                     update ="formprincipal"
                                     style ="align-items: center">                                      
                    </p:commandButton>
                </div>
                
                <p:dataTable id ="tablaProveedor" value="#{proveedorManagedBean.listaProveedor}" var="pro">
                    <p:column headerText="CODIGO">
                        <p:outputLabel value="#{pro.codigo}"></p:outputLabel>                       
                    </p:column>
                    <p:column headerText="NOMBRE">
                        <p:outputLabel value="#{pro.nombre}"></p:outputLabel>                       
                    </p:column> 
                    <p:column headerText="RUC">
                        <p:outputLabel value="#{pro.ruc}"></p:outputLabel>                       
                    </p:column>
                    <p:column headerText="DIRECCION">
                        <p:outputLabel value="#{pro.direccion}"></p:outputLabel>                       
                    </p:column>
                    <p:column headerText="EMAIL">
                        <p:outputLabel value="#{pro.email}"></p:outputLabel>                       
                    </p:column>
                    <p:column headerText="CIUDAD">
                        <p:outputLabel value="#{pro.ciudad}"></p:outputLabel>                       
                    </p:column>
                    <p:column headerText="SITIOWEB">
                        <p:outputLabel value="#{pro.sitioweb}"></p:outputLabel>                       
                    </p:column>
                    
                    <p:column headerText="EDITAR">
                        <p:commandButton action ="#{proveedorManagedBean.seleccionar(pro)}"
                                     update ="formprincipal" 
                                     icon="ui-icon-check">                                                                                           
                    </p:commandButton>
                    </p:column>
                    
                    <p:column headerText="ELIMINAR">
                        <p:commandButton action ="#{proveedorManagedBean.eliminar(pro)}"
                                     update ="formprincipal" 
                                     icon="ui-icon-trash">                                                                                           
                    </p:commandButton>
                    </p:column>
                    
                </p:dataTable>               
            </p:panel>           
        </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

